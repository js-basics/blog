---
layout: post
title: Tutorial 3 - While Loop
---
This is one of the most powerful ideas in programming, a loop. With a loop, you can do the same thing 1000 times, a million times, or even forever, just by writing it once.

Once you can write a loop, you'll find a whole new world opens up to you.

There are basically 2 main types of loops, and we will discuss them both. They are equivalent in function, but different in form. However, in this tutorial, we will focus on one of them, the while loop.

## While Loop
The simplest type of loop is called a _while_ loop. You guessed it, the keyword is `while`. Let's start with an example.

{% highlight javascript %}
var i = 10;
while (i > 0) {
  console.log("Countdown to New Year's Eve: " + i);
  --i;
}
{% endhighlight %}

> Run the code on the console! (Cmd + Opt + J on Chrome)

The code above will print a countdown from 10 to 1 on the console log. For those who don't know what `--i` means, it is a _decrement_ operator, and you can think of it as a shorthand for `i = i - 1`. Hence if `i` is 10, after a `--i`, `i` will become 9.

You can read the statement as: "While `i` is greater than 0, please do this: shout out the countdown to New Year's eve, and decrement `i` by 1." The moment when the condition is no longer true, i.e. when `i` is no longer greater than 0, the while loop is terminated.

So the anatomy of a while loop can be illustrated as follows:

{% highlight javascript %}
while (condition_holds_true) {
  // do stuff written inside this block.
}
{% endhighlight %}

By principle, there is no restriction on whether a while loop you write must terminate. In fact, one of the most commonplace mistakes is writing an endless loop, in which the condition in the `while` loop stays true forever. You can even write one intentionally as such:

{% highlight javascript %}
while (true) {
  console.log("I'm repeated forever!");
}
{% endhighlight %}
> Wait! Don't try this one. I would normally say go ahead and see for yourself, but somehow I can't find a way to even exit from my Chrome browser when the loop is executed.

The code above will keep printing the text on console log to eternity. Why would anyone write a code such as that though, you ask? Well, it is useful when you decide that something needs to run forever (i.e. a server).  

However, a more general use case is illustrated in the example below:

{% highlight javascript %}
var is_alive = true;
while (is_alive) {
  // Let's toss a coin and decide if the player is still alive.
  // In Javascript, tossing a coin for a random result amounts to calling
  // Math.random() function, which will return us a random value between
  // 0.0 to 1.0. The rule to be alive: get a value less than 0.8!!
  var random_value = Math.random();
  if (random_value > 0.8) {
    is_alive = false;
  } else {
    console.log("I am still alive since I get: " + random_value);
  }
}
{% endhighlight %}

Here, the loop is repeated until `is_alive` is set to `false`, and how that can happen is described inside the body of the while loop. So you can see that a `while` loop must decide by itself how it should terminate.

Finally, we can also make use of a `break` statement, which means "break out of the loop". So, for example:

{% highlight javascript %}
var i = 4;
while (true) {
  --i;
  console.log("Current value of i: " + i);
  if (i < 0) {
    console.log("I'm breaking of this loop!");
    break;
  }
  console.log("End of current loop.");
}
{% endhighlight %}

In the while loop, we decrement the value of `i` and check if the value is less than 0. If so, we execute a `break` statement, which allows us to break free from the while loop right at that point. Imagine it as waking up while having a nightmare. You don't finish your entire dream. Similarly, whatever left inside the while loop body is skipped. That's why you won't see "End of current loop." being printed at the very end.

> As a programmer, this kind of attention to detail is very important. Whenever you see an output that does not match your expectation, think for an explanation. Remember that computer is always exact and correct, it does whatever you tell him to do exactly how you tell him to do. It is never the computer's fault, only yours.

## Playground
Play with `while` loop! Create a `.html` and `.js` as described in [Tutorial 0]({% post_url 2017-07-09-tutorial-00 %}). Write a while loop which prints text to console using `console.log()` function. Observe the outputs and see if they are as you expected.

If you accidentally created an endless loop, you can try to close your the browser window, or your browser. Worst case scenario, for Mac OSX users, you can use Activity Monitor, choose the 'CPU' tab, find your browser name (e.g. Chrome), click on it and kill it (Windows users already know what to do).

Don't be afraid, though! Experiment and explore, that's how programming is learnt. :)

## Related Knowledge
I think it's a good time to introduce you to some new operators. You've seen `--` decrement operator. It belongs to a class of operators called _unary_ operators. It operates on a single operand. Alright, enough with this technical jingle. Let's get down to some examples.

### 1. Decrement `--`
Decrements the variable by 1. Can be written at the front as such:
{% highlight javascript %}
var i = 3;
--i;  // i becomes 2.
{% endhighlight %}
Or even at the end:
{% highlight javascript %}

var i = 3;
i--;  // i becomes 2.
{% endhighlight %}

### 2. Increment `++`
Increments the variable by 1.
{% highlight javascript %}
var i = 3;
++i;  // i becomes 4.
{% endhighlight %}

{% highlight javascript %}
var i = 3;
i++;  // i becomes 4.
{% endhighlight %}

Note: `++` and `--` is a special class of unary operator. They modify the content of the variable they are operating on, without the need for assignment operator `=`. Also, they cannot be used on `literal` values, so you cannot write `5++;` or `--5;`. You can only use this operator on a `variable`.

### 3. Negation `!`
Negates a boolean value, i.e. `!true` results in `false` and vice versa. This operator is extremely useful in writing while loop and if statements, especially when you want the opposite of some condition to occur.

{% highlight javascript %}
var isMachineWorking = false;
if (!isMachineWorking) {
  console.log("Machine is broken! Call the technician.");
} else {
  console.log("Technician is not called.")
}
{% endhighlight %}

Note: different from `++` and `--`, `!` does not modify the content of the variable itself. Rather, it creates a temporary result for its operation, by using the value of the given variable as an input.

So for example above, `!isMachineWorking` can be seen as follows, first the computer lookup the content of `isMachineWorking`, which is `false`. Then it computes `!false`, which is `true`. See! It does not modify `isMachineWorking` anywhere.

Look at the example below if you are confused (or otherwise!):

{% highlight javascript %}
var x = false;
console.log("x is: " + x);
console.log("so !x is: " + !x);

var y = !x;
console.log("See, y is: " + y);
console.log("While x is still: " + x);

var x = !x;
console.log("Now, x has changed to: " + x);
console.log("And !x is of course: " + !x);
{% endhighlight %}

The last assignment `x = !x;` might need some explaining. What happens here is: first, computer see what is in `x`, which is `false`. Then it computes `!false`, which is `true`. Then it assigns `true` to `x`, hence `x` now contains `true`. Therefore, the assignment operation is necessary if you want to modify the value of `x`.

## Conclusion
We have studied while loop. In the next tutorial we will study another type of loop, called for loop. A solid grasp of while loop will allow you to absorb the material from the next tutorial in a breeze!
